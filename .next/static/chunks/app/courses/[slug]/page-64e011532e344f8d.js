(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[908],{9549:function(e,t,s){Promise.resolve().then(s.t.bind(s,5250,23)),Promise.resolve().then(s.bind(s,9950)),Promise.resolve().then(s.bind(s,815))},8792:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var i=s(5250),n=s.n(i)},9950:function(e,t,s){"use strict";s.r(t),s.d(t,{AITutorWithGate:function(){return a}});var i=s(3827),n=s(4090),r=s(6210),l=s(5892);function a(e){let{courseId:t}=e,{isGuest:s,user:a}=(0,r.useAuth)(),[o,u]=(0,n.useState)([]),[c,d]=(0,n.useState)(""),[h,m]=(0,n.useState)(!1),p=o.filter(e=>"user"===e.role).length,x=s?3-p:1/0,f=()=>{if(c.trim()){if(s&&p>=3){m(!0);return}u([...o,{role:"user",text:c}]),setTimeout(()=>{u(e=>[...e,{role:"ai",text:"\uD83E\uDD14 Excelente pregunta. \xbfQu\xe9 has intentado hasta ahora? Recuerda que mi objetivo es guiarte, no darte la respuesta directamente."}])},1e3),d("")}};return(0,i.jsxs)("div",{className:"glass-panel p-6 rounded-2xl border border-white/10",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,i.jsx)("span",{children:"\uD83E\uDD16"}),"Tutor Socr\xe1tico IA"]}),s&&(0,i.jsxs)("div",{className:"text-xs px-3 py-1 bg-amber-500/20 text-amber-400 rounded-full font-bold",children:[x," preguntas restantes"]})]}),(0,i.jsxs)("div",{className:"h-64 overflow-y-auto mb-4 space-y-3",children:[0===o.length&&(0,i.jsx)("div",{className:"text-center text-platinum-dim text-sm py-8",children:"Haz tu primera pregunta. El tutor te guiar\xe1 con el m\xe9todo Socr\xe1tico."}),o.map((e,t)=>(0,i.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,i.jsx)("div",{className:"max-w-[80%] px-4 py-2 rounded-2xl ".concat("user"===e.role?"bg-neural-blue text-white":"bg-white/10 text-white"),children:e.text})},t))]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&f(),placeholder:"Escribe tu pregunta...",className:"flex-1 bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white focus:border-neural-blue outline-none transition",disabled:s&&p>=3}),(0,i.jsx)("button",{onClick:f,disabled:!c.trim()||s&&p>=3,className:"px-6 py-2 bg-neural-blue text-white rounded-lg font-bold hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Enviar"})]}),(0,i.jsx)(l._,{isOpen:h,onClose:()=>m(!1),reason:"ai_limit"})]})}},5892:function(e,t,s){"use strict";s.d(t,{_:function(){return o}});var i=s(3827),n=s(8745),r=s(8371),l=s(8792),a=s(4090);function o(e){let{isOpen:t,onClose:s,reason:o,onRegister:u}=e,[c,d]=(0,a.useState)(""),h={video_limit:{title:"\xa1Te enganchaste! \uD83C\uDF89",description:"Has visto los primeros 2 minutos. Reg\xedstrate gratis para ver la lecci\xf3n completa.",benefit:"Acceso a 3 cursos completos"},lesson_limit:{title:"\xa1Vas muy bien! \uD83D\uDE80",description:"Has completado 3 lecciones. Crea tu cuenta para desbloquear m\xe1s contenido.",benefit:"Progreso guardado autom\xe1ticamente"},ai_limit:{title:"Tutor IA Ilimitado \uD83E\uDD16",description:"Has usado tus 3 preguntas de prueba. Reg\xedstrate para acceso ilimitado.",benefit:"IA disponible 24/7"},feature_locked:{title:"Funci\xf3n Premium \uD83D\uDC8E",description:"Esta funci\xf3n est\xe1 disponible para usuarios registrados.",benefit:"Certificados verificados"}}[o];return(0,i.jsx)(n.M,{children:t&&(0,i.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"absolute inset-0 bg-black/80 backdrop-blur-sm"}),(0,i.jsxs)(r.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative glass-panel max-w-md w-full mx-4 p-6 sm:p-8 rounded-2xl border border-white/20 shadow-2xl",children:[(0,i.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-platinum-dim hover:text-white transition",children:"✕"}),(0,i.jsxs)("div",{className:"text-center mb-6",children:[(0,i.jsx)("h2",{className:"text-3xl font-bold text-white mb-3",children:h.title}),(0,i.jsx)("p",{className:"text-platinum-dim mb-4",children:h.description}),(0,i.jsx)("div",{className:"inline-block px-4 py-2 bg-neural-blue/20 rounded-lg border border-neural-blue/30",children:(0,i.jsxs)("span",{className:"text-sm text-neural-blue font-bold",children:["✓ ",h.benefit]})})]}),(0,i.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,i.jsx)("input",{type:"email",placeholder:"tu@email.com",value:c,onChange:e=>d(e.target.value),className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-3 text-white focus:border-neural-blue outline-none transition"}),(0,i.jsx)("button",{onClick:()=>{null==u||u(),window.location.href="/auth/register?email=".concat(c)},className:"w-full py-4 bg-neural-blue text-white rounded-xl font-bold hover:bg-blue-600 transition shadow-neon-blue",children:"Continuar Gratis →"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,i.jsx)("div",{className:"w-full border-t border-white/10"})}),(0,i.jsx)("div",{className:"relative flex justify-center text-xs",children:(0,i.jsx)("span",{className:"px-2 bg-deep-space text-platinum-dim",children:"O contin\xfaa con"})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("button",{className:"py-3 bg-white/10 text-white rounded-lg font-medium hover:bg-white/20 transition border border-white/20 flex items-center justify-center gap-2",children:[(0,i.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,i.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,i.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,i.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),(0,i.jsxs)("button",{className:"py-3 bg-white/10 text-white rounded-lg font-medium hover:bg-white/20 transition border border-white/20 flex items-center justify-center gap-2",children:[(0,i.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12c0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 21.795 24 17.295 24 12c0-6.627-5.373-12-12-12"})}),"GitHub"]})]})]}),(0,i.jsxs)("div",{className:"mt-6 text-center text-sm text-platinum-dim",children:["\xbfYa tienes cuenta?"," ",(0,i.jsx)(l.default,{href:"/auth/login",className:"text-neural-blue hover:text-white transition font-medium",children:"Inicia sesi\xf3n"})]})]})]})})}},815:function(e,t,s){"use strict";s.r(t),s.d(t,{VideoPlayerWithGate:function(){return a}});var i=s(3827),n=s(4090),r=s(6210),l=s(5892);function a(e){let{videoUrl:t,courseSlug:s,lessonId:a}=e,{isGuest:o}=(0,r.useAuth)(),[u,c]=(0,n.useState)(0),[d,h]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(!m||!o)return;let e=()=>{let e=m.currentTime;c(e),e>=120&&(m.pause(),h(!0))};return m.addEventListener("timeupdate",e),()=>m.removeEventListener("timeupdate",e)},[m,o]),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("video",{ref:p,src:t,controls:!0,className:"w-full rounded-xl",poster:"https://images.unsplash.com/photo-1526379095098-d400fdbfbf08?auto=format&fit=crop&q=80",children:"Tu navegador no soporta video HTML5."}),o&&u>0&&u<120&&(0,i.jsxs)("div",{className:"absolute top-4 right-4 px-3 py-1 bg-black/80 backdrop-blur rounded-full text-xs font-bold text-white",children:["Preview: ",Math.floor(120-u),"s restantes"]}),(0,i.jsx)(l._,{isOpen:d,onClose:()=>h(!1),reason:"video_limit"})]})}},6210:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return l},useAuth:function(){return a}});var i=s(3827),n=s(4090);let r=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,n.useState)({id:"guest",name:"Visitante",email:"",tier:"guest",completedLessons:0,aiQuestionsAsked:0}),a=(null==s?void 0:s.tier)==="guest",o=(null==s?void 0:s.tier)==="free",u=(null==s?void 0:s.tier)==="pro",c=async(e,t)=>{l({id:"1",name:"Mar\xeda Garc\xeda",email:e,tier:"free",completedLessons:2,aiQuestionsAsked:15})},d=async(e,t,s)=>{l({id:"2",name:s,email:e,tier:"free",completedLessons:0,aiQuestionsAsked:0})};return(0,i.jsx)(r.Provider,{value:{user:s,isGuest:a,isFree:o,isPro:u,login:c,logout:()=>{l({id:"guest",name:"Visitante",email:"",tier:"guest",completedLessons:0,aiQuestionsAsked:0})},register:d},children:t})}function a(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8745:function(e,t,s){"use strict";s.d(t,{M:function(){return b}});var i=s(3827),n=s(4090),r=s(3856),l=s(2435),a=s(4561),o=s(3449);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:s}=e,r=(0,n.useId)(),l=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:c}=(0,n.useContext)(o._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:n}=a.current;if(s||!l.current||!e||!t)return;l.current.dataset.motionPopId=r;let o=document.createElement("style");return c&&(o.nonce=c),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[s]),(0,i.jsx)(u,{isPresent:s,childRef:l,sizeRef:a,children:n.cloneElement(t,{ref:l})})}let d=e=>{let{children:t,initial:s,isPresent:r,onExitComplete:o,custom:u,presenceAffectsLayout:d,mode:m}=e,p=(0,l.h)(h),x=(0,n.useId)(),f=(0,n.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;o&&o()},[p,o]),b=(0,n.useMemo)(()=>({id:x,initial:s,isPresent:r,custom:u,onExitComplete:f,register:e=>(p.set(e,!1),()=>p.delete(e))}),d?[Math.random(),f]:[r,f]);return(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),n.useEffect(()=>{r||p.size||!o||o()},[r]),"popLayout"===m&&(t=(0,i.jsx)(c,{isPresent:r,children:t})),(0,i.jsx)(a.O.Provider,{value:b,children:t})};function h(){return new Map}var m=s(3177);let p=e=>e.key||"";function x(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var f=s(5526);let b=e=>{let{children:t,custom:s,initial:a=!0,onExitComplete:o,presenceAffectsLayout:u=!0,mode:c="sync",propagate:h=!1}=e,[b,v]=(0,m.oO)(h),g=(0,n.useMemo)(()=>x(t),[t]),j=h&&!b?[]:g.map(p),w=(0,n.useRef)(!0),y=(0,n.useRef)(g),N=(0,l.h)(()=>new Map),[C,E]=(0,n.useState)(g),[k,D]=(0,n.useState)(g);(0,f.L)(()=>{w.current=!1,y.current=g;for(let e=0;e<k.length;e++){let t=p(k[e]);j.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[k,j.length,j.join("-")]);let P=[];if(g!==C){let e=[...g];for(let t=0;t<k.length;t++){let s=k[t],i=p(s);j.includes(i)||(e.splice(t,0,s),P.push(s))}"wait"===c&&P.length&&(e=P),D(x(e)),E(g);return}let{forceRender:A}=(0,n.useContext)(r.p);return(0,i.jsx)(i.Fragment,{children:k.map(e=>{let t=p(e),n=(!h||!!b)&&(g===k||j.includes(t));return(0,i.jsx)(d,{isPresent:n,initial:(!w.current||!!a)&&void 0,custom:n?void 0:s,presenceAffectsLayout:u,mode:c,onExitComplete:n?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==A||A(),D(y.current),h&&(null==v||v()),o&&o())},children:e},t)})})}}},function(e){e.O(0,[250,371,971,69,744],function(){return e(e.s=9549)}),_N_E=e.O()}]);