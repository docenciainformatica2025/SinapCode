(()=>{var e={};e.id=674,e.ids=[674],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},27835:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=s(50482),r=s(69108),i=s(62563),l=s.n(i),n=s(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,75002)),"C:\\WEB-DI\\apps\\web\\src\\app\\admin\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,82050)),"C:\\WEB-DI\\apps\\web\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,71150))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,14894)),"C:\\WEB-DI\\apps\\web\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"C:\\WEB-DI\\apps\\web\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,48206)),"C:\\WEB-DI\\apps\\web\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,71150))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\WEB-DI\\apps\\web\\src\\app\\admin\\users\\page.tsx"],u="/admin/users/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},61750:(e,t,s)=>{Promise.resolve().then(s.bind(s,42332))},96124:(e,t,s)=>{Promise.resolve().then(s.bind(s,45289))},42332:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,dynamic:()=>c});var a=s(95344),r=s(56506),i=s(14767),l=s(39515),n=s(3729),d=s(34755);function o({children:e,allowedRoles:t=["ADMIN"]}){let{data:s,status:r}=(0,l.useSession)(),o=(0,i.useRouter)(),[c,u]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if("loading"===r)return;if(!s){o.push("/auth/login?callbackUrl=/admin");return}let e=s?.user,a=e?.role;a&&t.includes(a)?u(!0):(d.Am.error("Acceso Denegado: No tienes permisos suficientes."),o.push("/"))},[s,r,o,t]),"loading"!==r&&c)?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-deep-space",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-neural-blue border-t-transparent"}),a.jsx("p",{className:"text-platinum-dim text-sm animate-pulse",children:"Verificando credenciales de seguridad..."})]})})}let c="force-dynamic";function u({children:e}){let t=(0,i.usePathname)();return(0,a.jsxs)("div",{className:"min-h-screen bg-deep-space text-platinum flex",children:[(0,a.jsxs)("aside",{className:"w-64 border-r border-white/10 bg-black/20 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,a.jsxs)("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl",children:"âš¡"}),"Mission Control"]}),a.jsx("p",{className:"text-xs text-platinum-dim mt-1",children:"Admin Panel"})]}),a.jsx("nav",{className:"flex-1 p-4",children:a.jsx("div",{className:"space-y-2",children:[{href:"/admin",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65"},{href:"/admin/audit",label:"Audit Logs",icon:"\uD83D\uDCCB"}].map(e=>{let s=t===e.href;return(0,a.jsxs)(r.default,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition ${s?"bg-neural-blue text-white font-bold shadow-neon-blue":"text-platinum-dim hover:bg-white/5 hover:text-white"}`,children:[a.jsx("span",{className:"text-xl",children:e.icon}),a.jsx("span",{children:e.label})]},e.href)})})}),a.jsx("div",{className:"p-4 border-t border-white/10",children:(0,a.jsxs)("div",{className:"glass-panel p-4 rounded-lg",children:[a.jsx("div",{className:"text-xs text-platinum-dim mb-2",children:"System Status"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm font-bold text-emerald-400",children:"All Systems Operational"})]})]})})]}),a.jsx("main",{className:"flex-1 p-8 overflow-y-auto",children:a.jsx(o,{allowedRoles:["ADMIN"],children:e})})]})}},45289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(95344),r=s(3729),i=s(87292),l=s(7526),n=s(34755);function d(){let[e,t]=(0,r.useState)([{id:"1",name:"Mar\xeda Garc\xeda",email:"maria.garcia@student.com",role:"STUDENT",status:"active",lastLogin:"2 hours ago",createdAt:"2025-12-15"},{id:"2",name:"Carlos Rodr\xedguez",email:"carlos.r@teacher.com",role:"TEACHER",status:"active",lastLogin:"1 day ago",createdAt:"2025-11-20"},{id:"3",name:"Ana Mart\xednez",email:"ana.m@student.com",role:"STUDENT",status:"pending",lastLogin:"Never",createdAt:"2026-01-08"}]),[s,d]=(0,r.useState)(""),[o,c]=(0,r.useState)("all"),[u,m]=(0,r.useState)(null),x=e.filter(e=>{let t=e.name.toLowerCase().includes(s.toLowerCase())||e.email.toLowerCase().includes(s.toLowerCase()),a="all"===o||e.role===o;return t&&a}),p=async s=>{let a="suspended"===s.status?"active":"suspended",r="suspended"===a?"USER_BAN":"USER_UNBAN";t(e.map(e=>e.id===s.id?{...e,status:a}:e)),await l.i.logAction({actorId:"current-admin-id",actorName:"You (Admin)",action:r,description:`${"USER_BAN"===r?"Suspended":"Reactivated"} user access for ${s.email}`,targetId:s.id,targetName:s.name}),n.Am.success(`User ${"suspended"===a?"suspended":"activated"} successfully`)},h=async()=>{u&&(t(e.map(e=>e.id===u.id?u:e)),await l.i.logAction({actorId:"current-admin-id",actorName:"You (Admin)",action:"ROLE_CHANGE",description:`Updated profile details/role for ${u.email}`,targetId:u.id}),n.Am.success("User updated successfully"),m(null))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"User Management"}),a.jsx("p",{className:"text-platinum-dim",children:"Manage user accounts, roles, and permissions"})]}),a.jsx("button",{className:"px-6 py-3 bg-neural-blue text-white rounded-lg font-bold hover:bg-blue-600 transition shadow-neon-blue",children:"+ New User"})]}),a.jsx("div",{className:"glass-panel p-6 rounded-xl",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-platinum-dim mb-2 block",children:"Search"}),a.jsx("input",{type:"text",placeholder:"Name or email...",value:s,onChange:e=>d(e.target.value),className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white focus:border-neural-blue outline-none transition"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-platinum-dim mb-2 block",children:"Role"}),(0,a.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white focus:border-neural-blue outline-none transition",children:[a.jsx("option",{value:"all",children:"All Roles"}),a.jsx("option",{value:"STUDENT",children:"Students"}),a.jsx("option",{value:"TEACHER",children:"Teachers"}),a.jsx("option",{value:"ADMIN",children:"Admins"})]})]}),a.jsx("div",{className:"flex items-end",children:(0,a.jsxs)("div",{className:"text-sm text-platinum-dim",children:["Showing ",a.jsx("span",{className:"text-white font-bold",children:x.length})," of ",e.length," users"]})})]})}),a.jsx("div",{className:"glass-panel rounded-xl overflow-hidden border border-white/10",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-white/5 border-b border-white/10",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"text-left p-4 text-sm font-bold text-platinum-dim uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"text-left p-4 text-sm font-bold text-platinum-dim uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"text-left p-4 text-sm font-bold text-platinum-dim uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"text-left p-4 text-sm font-bold text-platinum-dim uppercase tracking-wider",children:"Last Login"}),a.jsx("th",{className:"text-left p-4 text-sm font-bold text-platinum-dim uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{children:x.map(e=>(0,a.jsxs)(i.E.tr,{initial:{opacity:0},animate:{opacity:1},className:"border-b border-white/5 hover:bg-white/5 transition",children:[a.jsx("td",{className:"p-4",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-white font-medium",children:e.name}),a.jsx("div",{className:"text-sm text-platinum-dim",children:e.email})]})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"ADMIN"===e.role?"bg-rose-500/20 text-rose-400":"TEACHER"===e.role?"bg-purple-500/20 text-purple-400":"bg-blue-500/20 text-blue-400"}`,children:e.role})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${"active"===e.status?"bg-emerald-500/20 text-emerald-400":"suspended"===e.status?"bg-rose-500/20 text-rose-400":"bg-amber-500/20 text-amber-400"}`,children:e.status})}),a.jsx("td",{className:"p-4 text-platinum-dim text-sm",children:e.lastLogin}),a.jsx("td",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>m(e),className:"px-3 py-1 bg-white/10 hover:bg-white/20 text-white rounded text-xs font-medium transition",children:"Edit"}),a.jsx("button",{onClick:()=>p(e),className:`px-3 py-1 rounded text-xs font-medium transition ${"suspended"===e.status?"bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400":"bg-rose-500/20 hover:bg-rose-500/30 text-rose-400"}`,children:"suspended"===e.status?"Activate":"Suspend"})]})})]},e.id))})]})})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsxs)(i.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"glass-panel max-w-md w-full p-8 rounded-2xl border border-white/20",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Edit User"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-platinum-dim mb-2 block",children:"Name"}),a.jsx("input",{type:"text",value:u.name,onChange:e=>m({...u,name:e.target.value}),className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white focus:border-neural-blue outline-none transition"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-platinum-dim mb-2 block",children:"Email"}),a.jsx("input",{type:"email",value:u.email,onChange:e=>m({...u,email:e.target.value}),className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white focus:border-neural-blue outline-none transition"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-platinum-dim mb-2 block",children:"Role"}),(0,a.jsxs)("select",{value:u.role,onChange:e=>m({...u,role:e.target.value}),className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white focus:border-neural-blue outline-none transition",children:[a.jsx("option",{value:"STUDENT",children:"Student"}),a.jsx("option",{value:"TEACHER",children:"Teacher"}),a.jsx("option",{value:"ADMIN",children:"Admin"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm text-platinum-dim mb-2 block",children:"Status"}),(0,a.jsxs)("select",{value:u.status,onChange:e=>m({...u,status:e.target.value}),className:"w-full bg-black/50 border border-white/20 rounded-lg px-4 py-2 text-white focus:border-neural-blue outline-none transition",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"suspended",children:"Suspended"}),a.jsx("option",{value:"pending",children:"Pending"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 mt-8",children:[a.jsx("button",{onClick:()=>m(null),className:"flex-1 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg font-medium transition",children:"Cancel"}),a.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-neural-blue hover:bg-blue-600 text-white rounded-lg font-bold transition shadow-neon-blue",children:"Save Changes"})]})]})})]})}},7526:(e,t,s)=>{"use strict";s.d(t,{i:()=>r});let a=[];class r{static async logAction(e){let t={id:crypto.randomUUID(),timestamp:new Date().toISOString(),...e};a.unshift(t),a.length>100&&a.pop()}static async getLogs(e=50){return a.slice(0,e)}static seedMockData(){a.length>0||(a=[{id:"1",timestamp:new Date(Date.now()-3e5).toISOString(),actorId:"admin-1",actorName:"Admin System",action:"SYSTEM_ALERT",description:"High traffic detected in LATAM region",targetId:"server-latam-1"},{id:"2",timestamp:new Date(Date.now()-36e5).toISOString(),actorId:"admin-1",actorName:"Super Admin",action:"SETTINGS_UPDATE",description:"Updated SEO meta tags for Landing Page",targetId:"seo-config"},{id:"3",timestamp:new Date(Date.now()-72e5).toISOString(),actorId:"admin-1",actorName:"Super Admin",action:"USER_BAN",description:"Suspended user for suspicious bot activity",targetId:"user-882",targetName:"Bot_x99"}])}}},82050:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>o,dynamic:()=>d});var a=s(86843);let r=(0,a.createProxy)(String.raw`C:\WEB-DI\apps\web\src\app\admin\layout.tsx`),{__esModule:i,$$typeof:l}=r,n=r.default,d=(0,a.createProxy)(String.raw`C:\WEB-DI\apps\web\src\app\admin\layout.tsx#dynamic`),o=n},75002:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let a=(0,s(86843).createProxy)(String.raw`C:\WEB-DI\apps\web\src\app\admin\users\page.tsx`),{__esModule:r,$$typeof:i}=a,l=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,131,871],()=>s(27835));module.exports=a})();